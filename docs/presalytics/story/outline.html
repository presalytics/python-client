<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.4" />
<title>presalytics.story.outline API documentation</title>
<meta name="description" content="Module helps serialize and deserialize presalytics story outlines to/from json and yaml source data.
Classes in this module acts are interfaces â€¦" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>presalytics.story.outline</code></h1>
</header>
<section id="section-intro">
<p>Module helps serialize and deserialize presalytics story outlines to/from json and yaml source data.
Classes in this module acts are interfaces between story outlines and <code>component</code> objects</p>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L0-L546" class="git-link">Browse git</a>
</summary>
<pre><code class="python">&#34;&#34;&#34;
Module helps serialize and deserialize presalytics story outlines to/from json and yaml source data.
Classes in this module acts are interfaces between story outlines and `component` objects
&#34;&#34;&#34;
import json
import numpy as np
import base64
import yaml
import inspect
import datetime
import dateutil.parser
import uuid
import abc
import typing
import sys
import os
import semantic_version
import jsonschema
from presalytics.story.util import to_camel_case, to_snake_case
from presalytics.lib.exceptions import ValidationError

class OutlineEncoder(json.JSONEncoder):
    &#34;&#34;&#34;
    Json encoder for `presalytics.story.outline.OutlineBase` objects
    &#34;&#34;&#34;
    def default(self, obj):
        &#34;&#34;&#34;
        Override method for deserializing objects that inherit from 
        `presalytics.story.outline.OutlineBase`
        &#34;&#34;&#34;
        if issubclass(obj.__class__, OutlineBase):
            return obj.to_dict()
        if isinstance(obj, datetime.datetime):
            return obj.replace(tzinfo=datetime.timezone.utc).isoformat()
        if isinstance(obj, uuid.UUID):
            return str(obj)
        # Generalized numpy encoder/decoder -- for http transport
        # If input object is an ndarray it will be converted into a dict 
        # holding dtype, shape and the data, base64 encoded.
        if isinstance(obj, np.ndarray):
            if obj.flags[&#39;C_CONTIGUOUS&#39;]:
                obj_data = obj.data
            else:
                cont_obj = np.ascontiguousarray(obj)
                assert(cont_obj.flags[&#39;C_CONTIGUOUS&#39;])
                obj_data = cont_obj.data
            data_b64 = base64.b64encode(obj_data).decode(&#39;utf-8&#39;)
            return dict(__ndarray__=data_b64,
                        dtype=str(obj.dtype),
                        shape=obj.shape)
        return json.JSONEncoder.default(self, obj)

def json_numpy_obj_hook(dct):
    &#34;&#34;&#34;
    Decodes a previously encoded numpy ndarray with proper shape and dtype.
    &#34;&#34;&#34;
    if isinstance(dct, dict) and &#39;__ndarray__&#39; in dct:
        data = base64.b64decode(dct[&#39;__ndarray__&#39;].encode(&#39;utf-8&#39;))
        return np.frombuffer(data, dct[&#39;dtype&#39;]).reshape(dct[&#39;shape&#39;])
    return dct


def get_current_spec_version():
    &#34;&#34;&#34;
    Get the latest version of the story outline schema via reading foldernames in 
    the schemas subfolder of this file&#39;s directory
    &#34;&#34;&#34;
    schema_dir = os.path.join(os.path.dirname(__file__), &#34;schemas&#34;)
    major, minor, patch = None, None, None
    latest = None
    for _dir in os.listdir(schema_dir):
        if not latest: 
            latest = semantic_version.Version(_dir)
        elif latest &lt; semantic_version.Version(_dir):
            latest = semantic_version.Version(_dir)
    return str(latest)

def load_schema(version_number):
    path = os.path.join(os.path.dirname(__file__), &#34;schemas&#34;, version_number, &#34;story-outline.schema.json&#34;)
    with open(path, &#39;r&#39;) as f:
        data = json.load(f)
    return data

def load_latest_schema():
    version_number = get_current_spec_version()
    return load_schema(version_number)



class OutlineBase(abc.ABC):
    &#34;&#34;&#34;
    Base object for building Story Outlines

    Includes methods for validiating, serializing, and deserializing outline classes
    &#34;&#34;&#34;
    
    __annotations__: typing.Dict
    __required__: typing.Sequence[str]
    additional_properties: typing.Dict

    __required__ = []
    &#34;&#34;&#34;
    A `list` of `str` objects representation attributes required to be to present
    in order for an instance to be deserialized.  Checked when the `validate` method is
    run
    &#34;&#34;&#34;

    def __init__(self, **kwargs):
        if &#34;additional_properties&#34; in kwargs:
            self.additional_properties = kwargs[&#34;additional_properties&#34;]
        else:
            self.additional_properties = kwargs

    def validate(self):
        &#34;&#34;&#34;
        Ensures that the outline component has all required attributes.  Raises
        a `presalytics.lib.exceptions.ValidationError` if required attributes are 
        missing.  Reads the list of requried objects from the __required__ class
        variable
        &#34;&#34;&#34;
        for key in self.__required__:
            if not hasattr(self, key):
                err_message = &#39;Could not load {0} object, source data missing &#34;{1}&#34; key&#39;.format(self.__class__.__name__, key)
                raise ValidationError(err_message)


    @classmethod
    def deserialize(cls, json_obj: dict):
        &#34;&#34;&#34;
        Serializes a `dict` into  class instance

        Parameters
        ----------
        json_obj : dict
            A dictionary containing attributes of the class
        
        Returns
        ----------
            A `class` instance
        &#34;&#34;&#34;
        if type(json_obj) == cls:
            return json_obj
        updated_obj = {}
        for key, val in json_obj.items():
            new_key = to_snake_case(key)
            updated_obj.update({new_key: val})
        for req in inspect.getargspec(cls).args:
            if req not in updated_obj and req != &#39;self&#39;:
                updated_obj.update({req: None})
        return cls(**updated_obj)

    @classmethod
    def load(cls, json_str: str):
        &#34;&#34;&#34;
        Serializes a `str` into  class instance

        Parameters
        ----------
        json_str : str
            A dictionary containing attributes of the class
        
        Returns
        ----------
        A `class` instance
        &#34;&#34;&#34;
        json_obj = json.loads(json_str)
        return cls.deserialize(json_obj)

    @classmethod
    def import_yaml(cls, yaml_file: str):
        &#34;&#34;&#34;
        Serializes a yaml from a file into a class instance

        Parameters
        ----------
        yaml_file : str
            Filepath to the file with yaml representing that class
        
        Returns
        ----------
        A `class` instance
        &#34;&#34;&#34;
        with open(yaml_file, &#39;r&#39;) as file:
            obj = yaml.unsafe_load(file) # use unsafe loader per: https://github.com/yaml/pyyaml/issues/286, Monitor for fix.
        return cls.deserialize(obj)

    def export_yaml(self, filename):
        &#34;&#34;&#34;
        Dumps yaml-formatted text representing the class instance into a file

        Parameters
        ----------
        filename : str
            Filepath to the location where the yaml fiel shoudl be dumped
        &#34;&#34;&#34;
        with open(filename, &#39;w&#39;) as file:
            yaml.dump(self.to_dict(), file)

    def dump(self):
        &#34;&#34;&#34;
        Serialize the class instance to a stringified Json object

        Returns
        ---------
        A `str` object representing the class instance in json
        &#34;&#34;&#34;
        return json.dumps(self, cls=OutlineEncoder)

    def to_dict(self):
        &#34;&#34;&#34;
        Converts an instance to a `dict` object of attributes.
        Used for further serialization.

        Returns
        ----------
        A `dict` object containing instance attributes
        &#34;&#34;&#34;
        ret = {}
        for key, val in self.__dict__.items():
            if key not in self.__required__:
                if isinstance(val, list):
                    if len(val) == 0:
                        continue
                if isinstance(val, dict):
                    if len(val.items()) == 0:
                        continue
            ret_key = &#34;{}&#34;.format(to_camel_case(key))
            ret_val = json.loads(json.dumps(val, cls=OutlineEncoder), encoding=&#39;utf-8&#39;, object_hook=json_numpy_obj_hook)
            ret[ret_key] = ret_val
        return ret


class Info(OutlineBase):
    &#34;&#34;&#34;
    Carries metadata for a `presalytics.story.outline.StoryOutline`

    Attributes
    ----------
    revision : str
        The current revision number of the story outline
    
    date_created : datetime.datetime
        The creation date of the story in UTC 
    
    date_modified : datetime.dataime
        The last modified  date of the story in UTC 
    
    created_by : str
        The Presalytics API user id of the user that created the story
    
    modified_by : str
        The Presalytics API user id of the user that last modified the story
    
    revision_notes : str, optional
        Text explaining the changes made during that latest revision to the story
    
    &#34;&#34;&#34;
    revision: str
    date_created: datetime.datetime
    date_modified: datetime.datetime
    created_by: str
    modified_by: str
    revision_notes: str

    def __init__(self,
                 revision,
                 date_created,
                 date_modified,
                 created_by,
                 modified_by,
                 revision_notes,
                 story_id=None,
                 **kwargs):
        super(Info, self).__init__(**kwargs)
        self.revision = revision
        self.date_created = dateutil.parser.parse(date_created).replace(tzinfo=datetime.timezone.utc)
        self.date_modified = dateutil.parser.parse(date_modified).replace(tzinfo=datetime.timezone.utc)
        self.created_by = created_by
        self.modified_by = modified_by
        self.revision_notes = revision_notes

class Plugin(OutlineBase):
    &#34;&#34;&#34;
    Represents at plugin to be incorporated in the story during rendering process.  The information
    contain in this object is passed to subclass of `presalytics.lib.plugins.base.PluginBase` found
    in the `presalytics.PLUGINS` registry. at render-time.

    Attributes
    ----------
    kind : str
        The kind of Plugin.  Usually either &#34;style&#34; for a `presalytics.lib.plugins.base.StylePlugin`
        or &#34;script&#34; for a `presalytics.lib.plugins.base.ScriptPlugin`

    name : str
        The name of the plugin.  A name must be unique within a 
        given `presalytics.PLUGINS` registry.

    config : dict
        The configiuration of the plugin.  The keys in this dictionary are unqiue to a given 
        plugin.
    &#34;&#34;&#34;
    kind: str
    name: str
    config: typing.Dict

    __required__ = [
        &#39;kind&#39;,
        &#39;config&#39;,
        &#39;name&#39;
    ]


    def __init__(self, kind, name, config, **kwargs):
        super(Plugin, self).__init__(**kwargs)
        self.kind = kind
        self.name = name
        self.config = config


class Widget(OutlineBase):
    &#34;&#34;&#34;
    A represenation of an analytic or graphic object to be rendered within a 
    `presalytics.story.outline.Page`. At render-time, the `presalytics.COMPONENTS`
    registry is queried for a matching class or instance. If found, the widget is
    rendered.

    Attributes
    ----------
    kind : str
        The kind of Widget. Typically corresponds to a class that inherits from 
        `presalytics.story.components.WidgetBase`

    name : str
        The name of the Widget.  Correpsonds to a local instance of 
        `presalytics.story.components.WidgetBase` loaded into `presalytics.COMPONENTS`

    data : dict
        Widget data required so the corresponding subclass of `presalytics.story.components.WidgetBase`
        can initialize and render
        
    plugins : list of presalytics.story.outline.Plugin
        A list of plugins that must be rendered alongside this widget
    &#34;&#34;&#34;
    name: str
    kind: str
    data: typing.Dict[str, str]
    plugins: typing.Sequence

    __required__ = [
        &#39;name&#39;,
        &#39;data&#39;
    ]

    def __init__(self, name, kind, data, plugins=None, **kwargs):
        super(Widget, self).__init__(**kwargs)
        self.name = name
        self.kind = kind
        if data:
            self.data = data
        else:
            self.data = {}
        if plugins:
            self.plugins = [Plugin.deserialize(x) for x in plugins]
        else:
            self.plugins = []


class Page(OutlineBase):
    &#34;&#34;&#34;
    A representation of a canvas on which `presalytics.story.outline.Widget` objects
    can be rendered. At render-time, the `presalytics.COMPONENTS`
    registry is queried for a matching class. If found, the page and its
    widgets are rendered.

    Attributes
    ----------
    kind : str
        The kind of Page. Typically corresponds to a class that inherits from 
        `presalytics.story.components.PageTemplateBase`

    name : str
        The name of the Page.  A name must be unique within a 
        given `presalytics.COMPONENTS` registry

    widgets : list of presalytics.story.outline.Widget
        Widgets that will be rendered along with the page        
        
    plugins : list of presalytics.story.outline.Plugin
        A list of plugins that must be rendered alongside this widget

    &#34;&#34;&#34;
    name: str
    kind: str
    widgets: typing.Sequence[Widget]
    plugins: typing.List[Plugin]

    __required__ = [
        &#39;name&#39;,
        &#39;kind&#39;
    ]

    def __init__(self, name, kind, widgets, plugins=None, **kwargs):
        super(Page, self).__init__(**kwargs)
        self.name = name
        self.kind = kind
        if widgets:
            self.widgets = [Widget.deserialize(x) for x in widgets]
        else:
            self.widgets = []
        if plugins:
            self.plugins = [Plugin.deserialize(x) for x in plugins]
        else:
            self.plugins = []


class Theme(OutlineBase):
    &#34;&#34;&#34;
    A container for story properties that persist accross all pages of story. At render-time, 
    the `presalytics.COMPONENTS` registry is queried for a matching class. If found, the theme is
    incorporated into the story.

    Attributes
    ----------
    kind : str
        The kind of Theme. Typically corresponds to a class that inherits from 
        `presalytics.story.components.ThemeBase`

    name : str
        The name of the Theme.  Corresponds to a local instance of 
        `presalytics.story.components.ThemeBase` loaded into `presalytics.COMPONENTS`

    data : dict
        Widget data required so the corresponding subclass of `presalytics.story.components.ThemeBase`
        can initialize and render
        
    plugins : A list of presalytics.story.outline.Plugin
        A list of plugins that must be rendered alongside this widget
    &#34;&#34;&#34;
    name: str
    kind: str
    data: typing.Dict
    plugins: typing.List[Plugin]

    __required__ = [
        &#39;name&#39;
    ]

    def __init__(self, name, kind, data, plugins=None, **kwargs):
        super(Theme, self).__init__(**kwargs)
        self.name = name
        self.kind = kind
        if data:
            self.data = data
        else:
            self.data = {}
        if plugins:
            self.plugins = [Plugin.deserialize(x) for x in plugins]
        else:
            self.plugins = []


class StoryOutline(OutlineBase):
    &#34;&#34;&#34;
    A StoryOutline contains instructions for a `presalytics.story.components.Renderer` 
    (e.g., `presalytics.story.revealer.Revealer`) to render an story into html.

    A story outline&#39;s `info`, `pages`, `widgets`, and `themes` are intended to be easily editable
    by both human users and machines via json serialization and deserialization, and the ecosystem
    of tools that can be used to edit json objects. Once a valid `StoryOutline` is
    built, it contains sufficient instructions for this library find the required components in the user&#39;s
    workspace and render theme.

    StoryOutlines are stored in the [Presalytics API Story Service](https://presalytics.io/docs/api-specifications/story/).
    The story service manages version history and user permissions for StoryOutlines.  For more information
    about how outlines are used, please see the [How It Works](https://presalytics.io/docs/how-it-works/)
    section of the website.

    Attributes
    ----------

    outline_version : str
        the version of that StoryOuline schema.
    
    info : presalytics.story.outline.Info
        Metadata about this StoryOutline
    
    pages : list of presalytics.story.outline.Page
        The pages that will be rendered in this story
    
    themes : list of presalytics.story.outline.Theme
        The themes that will underlie each `presalytics.story.outline.Page` in the StoryOutline
    
    title : str, optional
        A title for the story

    description: str, optional
        A description of the story
    
    story_id : str, optional
        The Presalytics API Story Id.  Automatically added once the story outline has been pushed to
        the server.

    &#34;&#34;&#34;
    outline_version: str
    info: Info
    pages: typing.List[Page]
    description: str
    title: str
    themes: typing.List[Theme]
    story_id: str

    __required__ = [
        &#39;outline_version&#39;,
        &#39;info&#39;,
        &#39;pages&#39;,
        &#39;title&#39;,
    ]

    def __init__(self, info, pages, description, title, themes, plugins=None, story_id=&#34;empty&#34;, **kwargs):
        super(StoryOutline, self).__init__(**kwargs)
        self.outline_version = get_current_spec_version()
        self.info = Info.deserialize(info)
        self.pages = [Page.deserialize(x) for x in pages]
        if description:
            self.description = description
        else:
            self.description = &#34;&#34;
        if title:
            self.title = title
        else:
            self.title = &#34;&#34;
        if themes:
            self.themes = [Theme.deserialize(x) for x in themes]
        else:
            self.themes = []
        if plugins:
            self.plugins = [Plugin.deserialize(x) for x in plugins]
        else:
            self.plugins = []
        self.story_id = story_id
        if not kwargs.get(&#34;validate&#34;, True):
            self.validate()

        def validate(self):
            super(StoryOutline, self).validate()
            jsonschema.validate(instance=self.to_dict(), schema=load_latest_schema())
        </code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="presalytics.story.outline.json_numpy_obj_hook"><code class="name flex">
<span>def <span class="ident">json_numpy_obj_hook</span></span>(<span>dct)</span>
</code></dt>
<dd>
<section class="desc"><p>Decodes a previously encoded numpy ndarray with proper shape and dtype.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L53-L60" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def json_numpy_obj_hook(dct):
    &#34;&#34;&#34;
    Decodes a previously encoded numpy ndarray with proper shape and dtype.
    &#34;&#34;&#34;
    if isinstance(dct, dict) and &#39;__ndarray__&#39; in dct:
        data = base64.b64decode(dct[&#39;__ndarray__&#39;].encode(&#39;utf-8&#39;))
        return np.frombuffer(data, dct[&#39;dtype&#39;]).reshape(dct[&#39;shape&#39;])
    return dct</code></pre>
</details>
</dd>
<dt id="presalytics.story.outline.get_current_spec_version"><code class="name flex">
<span>def <span class="ident">get_current_spec_version</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the latest version of the story outline schema via reading foldernames in
the schemas subfolder of this file's directory</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L63-L76" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def get_current_spec_version():
    &#34;&#34;&#34;
    Get the latest version of the story outline schema via reading foldernames in 
    the schemas subfolder of this file&#39;s directory
    &#34;&#34;&#34;
    schema_dir = os.path.join(os.path.dirname(__file__), &#34;schemas&#34;)
    major, minor, patch = None, None, None
    latest = None
    for _dir in os.listdir(schema_dir):
        if not latest: 
            latest = semantic_version.Version(_dir)
        elif latest &lt; semantic_version.Version(_dir):
            latest = semantic_version.Version(_dir)
    return str(latest)</code></pre>
</details>
</dd>
<dt id="presalytics.story.outline.load_schema"><code class="name flex">
<span>def <span class="ident">load_schema</span></span>(<span>version_number)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L78-L82" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def load_schema(version_number):
    path = os.path.join(os.path.dirname(__file__), &#34;schemas&#34;, version_number, &#34;story-outline.schema.json&#34;)
    with open(path, &#39;r&#39;) as f:
        data = json.load(f)
    return data</code></pre>
</details>
</dd>
<dt id="presalytics.story.outline.load_latest_schema"><code class="name flex">
<span>def <span class="ident">load_latest_schema</span></span>(<span>)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L84-L86" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def load_latest_schema():
    version_number = get_current_spec_version()
    return load_schema(version_number)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="presalytics.story.outline.OutlineEncoder"><code class="flex name class">
<span>class <span class="ident">OutlineEncoder</span></span>
<span>(</span><span>*, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, sort_keys=False, indent=None, separators=None, default=None)</span>
</code></dt>
<dd>
<section class="desc"><p>Json encoder for <a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase"><code>OutlineBase</code></a> objects</p>
<p>Constructor for JSONEncoder, with sensible defaults.</p>
<p>If skipkeys is false, then it is a TypeError to attempt
encoding of keys that are not str, int, float or None.
If
skipkeys is True, such items are simply skipped.</p>
<p>If ensure_ascii is true, the output is guaranteed to be str
objects with all incoming non-ASCII characters escaped.
If
ensure_ascii is false, the output can contain non-ASCII characters.</p>
<p>If check_circular is true, then lists, dicts, and custom encoded
objects will be checked for circular references during encoding to
prevent an infinite recursion (which would cause an OverflowError).
Otherwise, no such check takes place.</p>
<p>If allow_nan is true, then NaN, Infinity, and -Infinity will be
encoded as such.
This behavior is not JSON specification compliant,
but is consistent with most JavaScript based encoders and decoders.
Otherwise, it will be a ValueError to encode such floats.</p>
<p>If sort_keys is true, then the output of dictionaries will be
sorted by key; this is useful for regression tests to ensure
that JSON serializations can be compared on a day-to-day basis.</p>
<p>If indent is a non-negative integer, then JSON array
elements and object members will be pretty-printed with that
indent level.
An indent level of 0 will only insert newlines.
None is the most compact representation.</p>
<p>If specified, separators should be an (item_separator, key_separator)
tuple.
The default is (', ', ': ') if <em>indent</em> is <code>None</code> and
(',', ': ') otherwise.
To get the most compact JSON representation,
you should specify (',', ':') to eliminate whitespace.</p>
<p>If specified, default is a function that gets called for objects
that can't otherwise be serialized.
It should return a JSON encodable
version of the object or raise a <code>TypeError</code>.</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L22-L51" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class OutlineEncoder(json.JSONEncoder):
    &#34;&#34;&#34;
    Json encoder for `presalytics.story.outline.OutlineBase` objects
    &#34;&#34;&#34;
    def default(self, obj):
        &#34;&#34;&#34;
        Override method for deserializing objects that inherit from 
        `presalytics.story.outline.OutlineBase`
        &#34;&#34;&#34;
        if issubclass(obj.__class__, OutlineBase):
            return obj.to_dict()
        if isinstance(obj, datetime.datetime):
            return obj.replace(tzinfo=datetime.timezone.utc).isoformat()
        if isinstance(obj, uuid.UUID):
            return str(obj)
        # Generalized numpy encoder/decoder -- for http transport
        # If input object is an ndarray it will be converted into a dict 
        # holding dtype, shape and the data, base64 encoded.
        if isinstance(obj, np.ndarray):
            if obj.flags[&#39;C_CONTIGUOUS&#39;]:
                obj_data = obj.data
            else:
                cont_obj = np.ascontiguousarray(obj)
                assert(cont_obj.flags[&#39;C_CONTIGUOUS&#39;])
                obj_data = cont_obj.data
            data_b64 = base64.b64encode(obj_data).decode(&#39;utf-8&#39;)
            return dict(__ndarray__=data_b64,
                        dtype=str(obj.dtype),
                        shape=obj.shape)
        return json.JSONEncoder.default(self, obj)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>json.encoder.JSONEncoder</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="presalytics.story.outline.OutlineEncoder.default"><code class="name flex">
<span>def <span class="ident">default</span></span>(<span>self, obj)</span>
</code></dt>
<dd>
<section class="desc"><p>Override method for deserializing objects that inherit from
<a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase"><code>OutlineBase</code></a></p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L26-L51" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def default(self, obj):
    &#34;&#34;&#34;
    Override method for deserializing objects that inherit from 
    `presalytics.story.outline.OutlineBase`
    &#34;&#34;&#34;
    if issubclass(obj.__class__, OutlineBase):
        return obj.to_dict()
    if isinstance(obj, datetime.datetime):
        return obj.replace(tzinfo=datetime.timezone.utc).isoformat()
    if isinstance(obj, uuid.UUID):
        return str(obj)
    # Generalized numpy encoder/decoder -- for http transport
    # If input object is an ndarray it will be converted into a dict 
    # holding dtype, shape and the data, base64 encoded.
    if isinstance(obj, np.ndarray):
        if obj.flags[&#39;C_CONTIGUOUS&#39;]:
            obj_data = obj.data
        else:
            cont_obj = np.ascontiguousarray(obj)
            assert(cont_obj.flags[&#39;C_CONTIGUOUS&#39;])
            obj_data = cont_obj.data
        data_b64 = base64.b64encode(obj_data).decode(&#39;utf-8&#39;)
        return dict(__ndarray__=data_b64,
                    dtype=str(obj.dtype),
                    shape=obj.shape)
    return json.JSONEncoder.default(self, obj)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="presalytics.story.outline.OutlineBase"><code class="flex name class">
<span>class <span class="ident">OutlineBase</span></span>
<span>(</span><span>**kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>Base object for building Story Outlines</p>
<p>Includes methods for validiating, serializing, and deserializing outline classes</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L90-L230" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class OutlineBase(abc.ABC):
    &#34;&#34;&#34;
    Base object for building Story Outlines

    Includes methods for validiating, serializing, and deserializing outline classes
    &#34;&#34;&#34;
    
    __annotations__: typing.Dict
    __required__: typing.Sequence[str]
    additional_properties: typing.Dict

    __required__ = []
    &#34;&#34;&#34;
    A `list` of `str` objects representation attributes required to be to present
    in order for an instance to be deserialized.  Checked when the `validate` method is
    run
    &#34;&#34;&#34;

    def __init__(self, **kwargs):
        if &#34;additional_properties&#34; in kwargs:
            self.additional_properties = kwargs[&#34;additional_properties&#34;]
        else:
            self.additional_properties = kwargs

    def validate(self):
        &#34;&#34;&#34;
        Ensures that the outline component has all required attributes.  Raises
        a `presalytics.lib.exceptions.ValidationError` if required attributes are 
        missing.  Reads the list of requried objects from the __required__ class
        variable
        &#34;&#34;&#34;
        for key in self.__required__:
            if not hasattr(self, key):
                err_message = &#39;Could not load {0} object, source data missing &#34;{1}&#34; key&#39;.format(self.__class__.__name__, key)
                raise ValidationError(err_message)


    @classmethod
    def deserialize(cls, json_obj: dict):
        &#34;&#34;&#34;
        Serializes a `dict` into  class instance

        Parameters
        ----------
        json_obj : dict
            A dictionary containing attributes of the class
        
        Returns
        ----------
            A `class` instance
        &#34;&#34;&#34;
        if type(json_obj) == cls:
            return json_obj
        updated_obj = {}
        for key, val in json_obj.items():
            new_key = to_snake_case(key)
            updated_obj.update({new_key: val})
        for req in inspect.getargspec(cls).args:
            if req not in updated_obj and req != &#39;self&#39;:
                updated_obj.update({req: None})
        return cls(**updated_obj)

    @classmethod
    def load(cls, json_str: str):
        &#34;&#34;&#34;
        Serializes a `str` into  class instance

        Parameters
        ----------
        json_str : str
            A dictionary containing attributes of the class
        
        Returns
        ----------
        A `class` instance
        &#34;&#34;&#34;
        json_obj = json.loads(json_str)
        return cls.deserialize(json_obj)

    @classmethod
    def import_yaml(cls, yaml_file: str):
        &#34;&#34;&#34;
        Serializes a yaml from a file into a class instance

        Parameters
        ----------
        yaml_file : str
            Filepath to the file with yaml representing that class
        
        Returns
        ----------
        A `class` instance
        &#34;&#34;&#34;
        with open(yaml_file, &#39;r&#39;) as file:
            obj = yaml.unsafe_load(file) # use unsafe loader per: https://github.com/yaml/pyyaml/issues/286, Monitor for fix.
        return cls.deserialize(obj)

    def export_yaml(self, filename):
        &#34;&#34;&#34;
        Dumps yaml-formatted text representing the class instance into a file

        Parameters
        ----------
        filename : str
            Filepath to the location where the yaml fiel shoudl be dumped
        &#34;&#34;&#34;
        with open(filename, &#39;w&#39;) as file:
            yaml.dump(self.to_dict(), file)

    def dump(self):
        &#34;&#34;&#34;
        Serialize the class instance to a stringified Json object

        Returns
        ---------
        A `str` object representing the class instance in json
        &#34;&#34;&#34;
        return json.dumps(self, cls=OutlineEncoder)

    def to_dict(self):
        &#34;&#34;&#34;
        Converts an instance to a `dict` object of attributes.
        Used for further serialization.

        Returns
        ----------
        A `dict` object containing instance attributes
        &#34;&#34;&#34;
        ret = {}
        for key, val in self.__dict__.items():
            if key not in self.__required__:
                if isinstance(val, list):
                    if len(val) == 0:
                        continue
                if isinstance(val, dict):
                    if len(val.items()) == 0:
                        continue
            ret_key = &#34;{}&#34;.format(to_camel_case(key))
            ret_val = json.loads(json.dumps(val, cls=OutlineEncoder), encoding=&#39;utf-8&#39;, object_hook=json_numpy_obj_hook)
            ret[ret_key] = ret_val
        return ret</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="presalytics.story.outline.Info" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Info">Info</a></li>
<li><a title="presalytics.story.outline.Page" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Page">Page</a></li>
<li><a title="presalytics.story.outline.Plugin" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Plugin">Plugin</a></li>
<li><a title="presalytics.story.outline.StoryOutline" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.StoryOutline">StoryOutline</a></li>
<li><a title="presalytics.story.outline.Theme" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Theme">Theme</a></li>
<li><a title="presalytics.story.outline.Widget" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Widget">Widget</a></li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="presalytics.story.outline.OutlineBase.deserialize"><code class="name flex">
<span>def <span class="ident">deserialize</span></span>(<span>json_obj)</span>
</code></dt>
<dd>
<section class="desc"><p>Serializes a <code>dict</code> into
class instance</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>json_obj</code></strong> :&ensp;<code>dict</code></dt>
<dd>A dictionary containing attributes of the class</dd>
</dl>
<h2 id="returns">Returns</h2>
<pre><code>A `class` instance
</code></pre></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L127-L150" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@classmethod
def deserialize(cls, json_obj: dict):
    &#34;&#34;&#34;
    Serializes a `dict` into  class instance

    Parameters
    ----------
    json_obj : dict
        A dictionary containing attributes of the class
    
    Returns
    ----------
        A `class` instance
    &#34;&#34;&#34;
    if type(json_obj) == cls:
        return json_obj
    updated_obj = {}
    for key, val in json_obj.items():
        new_key = to_snake_case(key)
        updated_obj.update({new_key: val})
    for req in inspect.getargspec(cls).args:
        if req not in updated_obj and req != &#39;self&#39;:
            updated_obj.update({req: None})
    return cls(**updated_obj)</code></pre>
</details>
</dd>
<dt id="presalytics.story.outline.OutlineBase.load"><code class="name flex">
<span>def <span class="ident">load</span></span>(<span>json_str)</span>
</code></dt>
<dd>
<section class="desc"><p>Serializes a <code>str</code> into
class instance</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>json_str</code></strong> :&ensp;<code>str</code></dt>
<dd>A dictionary containing attributes of the class</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A <code>class</code> instance</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L152-L167" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@classmethod
def load(cls, json_str: str):
    &#34;&#34;&#34;
    Serializes a `str` into  class instance

    Parameters
    ----------
    json_str : str
        A dictionary containing attributes of the class
    
    Returns
    ----------
    A `class` instance
    &#34;&#34;&#34;
    json_obj = json.loads(json_str)
    return cls.deserialize(json_obj)</code></pre>
</details>
</dd>
<dt id="presalytics.story.outline.OutlineBase.import_yaml"><code class="name flex">
<span>def <span class="ident">import_yaml</span></span>(<span>yaml_file)</span>
</code></dt>
<dd>
<section class="desc"><p>Serializes a yaml from a file into a class instance</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>yaml_file</code></strong> :&ensp;<code>str</code></dt>
<dd>Filepath to the file with yaml representing that class</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A <code>class</code> instance</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L169-L185" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@classmethod
def import_yaml(cls, yaml_file: str):
    &#34;&#34;&#34;
    Serializes a yaml from a file into a class instance

    Parameters
    ----------
    yaml_file : str
        Filepath to the file with yaml representing that class
    
    Returns
    ----------
    A `class` instance
    &#34;&#34;&#34;
    with open(yaml_file, &#39;r&#39;) as file:
        obj = yaml.unsafe_load(file) # use unsafe loader per: https://github.com/yaml/pyyaml/issues/286, Monitor for fix.
    return cls.deserialize(obj)</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="presalytics.story.outline.OutlineBase.validate"><code class="name flex">
<span>def <span class="ident">validate</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Ensures that the outline component has all required attributes.
Raises
a <a title="presalytics.lib.exceptions.ValidationError" href="/python-client/presalytics/lib/exceptions.html#presalytics.lib.exceptions.ValidationError"><code>ValidationError</code></a> if required attributes are
missing.
Reads the list of requried objects from the <strong>required</strong> class
variable</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L114-L124" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def validate(self):
    &#34;&#34;&#34;
    Ensures that the outline component has all required attributes.  Raises
    a `presalytics.lib.exceptions.ValidationError` if required attributes are 
    missing.  Reads the list of requried objects from the __required__ class
    variable
    &#34;&#34;&#34;
    for key in self.__required__:
        if not hasattr(self, key):
            err_message = &#39;Could not load {0} object, source data missing &#34;{1}&#34; key&#39;.format(self.__class__.__name__, key)
            raise ValidationError(err_message)</code></pre>
</details>
</dd>
<dt id="presalytics.story.outline.OutlineBase.export_yaml"><code class="name flex">
<span>def <span class="ident">export_yaml</span></span>(<span>self, filename)</span>
</code></dt>
<dd>
<section class="desc"><p>Dumps yaml-formatted text representing the class instance into a file</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>filename</code></strong> :&ensp;<code>str</code></dt>
<dd>Filepath to the location where the yaml fiel shoudl be dumped</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L187-L197" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def export_yaml(self, filename):
    &#34;&#34;&#34;
    Dumps yaml-formatted text representing the class instance into a file

    Parameters
    ----------
    filename : str
        Filepath to the location where the yaml fiel shoudl be dumped
    &#34;&#34;&#34;
    with open(filename, &#39;w&#39;) as file:
        yaml.dump(self.to_dict(), file)</code></pre>
</details>
</dd>
<dt id="presalytics.story.outline.OutlineBase.dump"><code class="name flex">
<span>def <span class="ident">dump</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Serialize the class instance to a stringified Json object</p>
<h2 id="returns">Returns</h2>
<p>A <code>str</code> object representing the class instance in json</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L199-L207" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def dump(self):
    &#34;&#34;&#34;
    Serialize the class instance to a stringified Json object

    Returns
    ---------
    A `str` object representing the class instance in json
    &#34;&#34;&#34;
    return json.dumps(self, cls=OutlineEncoder)</code></pre>
</details>
</dd>
<dt id="presalytics.story.outline.OutlineBase.to_dict"><code class="name flex">
<span>def <span class="ident">to_dict</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Converts an instance to a <code>dict</code> object of attributes.
Used for further serialization.</p>
<h2 id="returns">Returns</h2>
<p>A <code>dict</code> object containing instance attributes</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L209-L230" class="git-link">Browse git</a>
</summary>
<pre><code class="python">def to_dict(self):
    &#34;&#34;&#34;
    Converts an instance to a `dict` object of attributes.
    Used for further serialization.

    Returns
    ----------
    A `dict` object containing instance attributes
    &#34;&#34;&#34;
    ret = {}
    for key, val in self.__dict__.items():
        if key not in self.__required__:
            if isinstance(val, list):
                if len(val) == 0:
                    continue
            if isinstance(val, dict):
                if len(val.items()) == 0:
                    continue
        ret_key = &#34;{}&#34;.format(to_camel_case(key))
        ret_val = json.loads(json.dumps(val, cls=OutlineEncoder), encoding=&#39;utf-8&#39;, object_hook=json_numpy_obj_hook)
        ret[ret_key] = ret_val
    return ret</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="presalytics.story.outline.Info"><code class="flex name class">
<span>class <span class="ident">Info</span></span>
<span>(</span><span>revision, date_created, date_modified, created_by, modified_by, revision_notes, story_id=None, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>Carries metadata for a <a title="presalytics.story.outline.StoryOutline" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.StoryOutline"><code>StoryOutline</code></a></p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>revision</code></strong> :&ensp;<code>str</code></dt>
<dd>The current revision number of the story outline</dd>
<dt><strong><code>date_created</code></strong> :&ensp;<code>datetime.datetime</code></dt>
<dd>The creation date of the story in UTC</dd>
<dt><strong><code>date_modified</code></strong> :&ensp;<code>datetime.dataime</code></dt>
<dd>The last modified
date of the story in UTC</dd>
<dt><strong><code>created_by</code></strong> :&ensp;<code>str</code></dt>
<dd>The Presalytics API user id of the user that created the story</dd>
<dt><strong><code>modified_by</code></strong> :&ensp;<code>str</code></dt>
<dd>The Presalytics API user id of the user that last modified the story</dd>
<dt><strong><code>revision_notes</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Text explaining the changes made during that latest revision to the story</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L233-L280" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Info(OutlineBase):
    &#34;&#34;&#34;
    Carries metadata for a `presalytics.story.outline.StoryOutline`

    Attributes
    ----------
    revision : str
        The current revision number of the story outline
    
    date_created : datetime.datetime
        The creation date of the story in UTC 
    
    date_modified : datetime.dataime
        The last modified  date of the story in UTC 
    
    created_by : str
        The Presalytics API user id of the user that created the story
    
    modified_by : str
        The Presalytics API user id of the user that last modified the story
    
    revision_notes : str, optional
        Text explaining the changes made during that latest revision to the story
    
    &#34;&#34;&#34;
    revision: str
    date_created: datetime.datetime
    date_modified: datetime.datetime
    created_by: str
    modified_by: str
    revision_notes: str

    def __init__(self,
                 revision,
                 date_created,
                 date_modified,
                 created_by,
                 modified_by,
                 revision_notes,
                 story_id=None,
                 **kwargs):
        super(Info, self).__init__(**kwargs)
        self.revision = revision
        self.date_created = dateutil.parser.parse(date_created).replace(tzinfo=datetime.timezone.utc)
        self.date_modified = dateutil.parser.parse(date_modified).replace(tzinfo=datetime.timezone.utc)
        self.created_by = created_by
        self.modified_by = modified_by
        self.revision_notes = revision_notes</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></li>
<li>abc.ABC</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></b></code>:
<ul class="hlist">
<li><code><a title="presalytics.story.outline.OutlineBase.deserialize" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.deserialize">deserialize</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.dump" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.dump">dump</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.export_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.export_yaml">export_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.import_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.import_yaml">import_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.load" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.load">load</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.to_dict" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.to_dict">to_dict</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.validate" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.validate">validate</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="presalytics.story.outline.Plugin"><code class="flex name class">
<span>class <span class="ident">Plugin</span></span>
<span>(</span><span>kind, name, config, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>Represents at plugin to be incorporated in the story during rendering process.
The information
contain in this object is passed to subclass of <a title="presalytics.lib.plugins.base.PluginBase" href="/python-client/presalytics/lib/plugins/base.html#presalytics.lib.plugins.base.PluginBase"><code>PluginBase</code></a> found
in the <a title="presalytics.PLUGINS" href="/python-client/presalytics/index.html#presalytics.PLUGINS"><code>PLUGINS</code></a> registry. at render-time.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>kind</code></strong> :&ensp;<code>str</code></dt>
<dd>The kind of Plugin.
Usually either "style" for a <a title="presalytics.lib.plugins.base.StylePlugin" href="/python-client/presalytics/lib/plugins/base.html#presalytics.lib.plugins.base.StylePlugin"><code>StylePlugin</code></a>
or "script" for a <a title="presalytics.lib.plugins.base.ScriptPlugin" href="/python-client/presalytics/lib/plugins/base.html#presalytics.lib.plugins.base.ScriptPlugin"><code>ScriptPlugin</code></a></dd>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the plugin.
A name must be unique within a
given <a title="presalytics.PLUGINS" href="/python-client/presalytics/index.html#presalytics.PLUGINS"><code>PLUGINS</code></a> registry.</dd>
<dt><strong><code>config</code></strong> :&ensp;<code>dict</code></dt>
<dd>The configiuration of the plugin.
The keys in this dictionary are unqiue to a given
plugin.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L282-L317" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Plugin(OutlineBase):
    &#34;&#34;&#34;
    Represents at plugin to be incorporated in the story during rendering process.  The information
    contain in this object is passed to subclass of `presalytics.lib.plugins.base.PluginBase` found
    in the `presalytics.PLUGINS` registry. at render-time.

    Attributes
    ----------
    kind : str
        The kind of Plugin.  Usually either &#34;style&#34; for a `presalytics.lib.plugins.base.StylePlugin`
        or &#34;script&#34; for a `presalytics.lib.plugins.base.ScriptPlugin`

    name : str
        The name of the plugin.  A name must be unique within a 
        given `presalytics.PLUGINS` registry.

    config : dict
        The configiuration of the plugin.  The keys in this dictionary are unqiue to a given 
        plugin.
    &#34;&#34;&#34;
    kind: str
    name: str
    config: typing.Dict

    __required__ = [
        &#39;kind&#39;,
        &#39;config&#39;,
        &#39;name&#39;
    ]


    def __init__(self, kind, name, config, **kwargs):
        super(Plugin, self).__init__(**kwargs)
        self.kind = kind
        self.name = name
        self.config = config</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></li>
<li>abc.ABC</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></b></code>:
<ul class="hlist">
<li><code><a title="presalytics.story.outline.OutlineBase.deserialize" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.deserialize">deserialize</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.dump" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.dump">dump</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.export_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.export_yaml">export_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.import_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.import_yaml">import_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.load" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.load">load</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.to_dict" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.to_dict">to_dict</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.validate" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.validate">validate</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="presalytics.story.outline.Widget"><code class="flex name class">
<span>class <span class="ident">Widget</span></span>
<span>(</span><span>name, kind, data, plugins=None, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>A represenation of an analytic or graphic object to be rendered within a
<a title="presalytics.story.outline.Page" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Page"><code>Page</code></a>. At render-time, the <a title="presalytics.COMPONENTS" href="/python-client/presalytics/index.html#presalytics.COMPONENTS"><code>COMPONENTS</code></a>
registry is queried for a matching class or instance. If found, the widget is
rendered.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>kind</code></strong> :&ensp;<code>str</code></dt>
<dd>The kind of Widget. Typically corresponds to a class that inherits from
<a title="presalytics.story.components.WidgetBase" href="/python-client/presalytics/story/components.html#presalytics.story.components.WidgetBase"><code>WidgetBase</code></a></dd>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the Widget.
Correpsonds to a local instance of
<a title="presalytics.story.components.WidgetBase" href="/python-client/presalytics/story/components.html#presalytics.story.components.WidgetBase"><code>WidgetBase</code></a> loaded into <a title="presalytics.COMPONENTS" href="/python-client/presalytics/index.html#presalytics.COMPONENTS"><code>COMPONENTS</code></a></dd>
<dt><strong><code>data</code></strong> :&ensp;<code>dict</code></dt>
<dd>Widget data required so the corresponding subclass of <a title="presalytics.story.components.WidgetBase" href="/python-client/presalytics/story/components.html#presalytics.story.components.WidgetBase"><code>WidgetBase</code></a>
can initialize and render</dd>
<dt><strong><code>plugins</code></strong> :&ensp;<code>list</code> of <a title="presalytics.story.outline.Plugin" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Plugin"><code>Plugin</code></a></dt>
<dd>A list of plugins that must be rendered alongside this widget</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L320-L365" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Widget(OutlineBase):
    &#34;&#34;&#34;
    A represenation of an analytic or graphic object to be rendered within a 
    `presalytics.story.outline.Page`. At render-time, the `presalytics.COMPONENTS`
    registry is queried for a matching class or instance. If found, the widget is
    rendered.

    Attributes
    ----------
    kind : str
        The kind of Widget. Typically corresponds to a class that inherits from 
        `presalytics.story.components.WidgetBase`

    name : str
        The name of the Widget.  Correpsonds to a local instance of 
        `presalytics.story.components.WidgetBase` loaded into `presalytics.COMPONENTS`

    data : dict
        Widget data required so the corresponding subclass of `presalytics.story.components.WidgetBase`
        can initialize and render
        
    plugins : list of presalytics.story.outline.Plugin
        A list of plugins that must be rendered alongside this widget
    &#34;&#34;&#34;
    name: str
    kind: str
    data: typing.Dict[str, str]
    plugins: typing.Sequence

    __required__ = [
        &#39;name&#39;,
        &#39;data&#39;
    ]

    def __init__(self, name, kind, data, plugins=None, **kwargs):
        super(Widget, self).__init__(**kwargs)
        self.name = name
        self.kind = kind
        if data:
            self.data = data
        else:
            self.data = {}
        if plugins:
            self.plugins = [Plugin.deserialize(x) for x in plugins]
        else:
            self.plugins = []</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></li>
<li>abc.ABC</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></b></code>:
<ul class="hlist">
<li><code><a title="presalytics.story.outline.OutlineBase.deserialize" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.deserialize">deserialize</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.dump" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.dump">dump</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.export_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.export_yaml">export_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.import_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.import_yaml">import_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.load" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.load">load</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.to_dict" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.to_dict">to_dict</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.validate" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.validate">validate</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="presalytics.story.outline.Page"><code class="flex name class">
<span>class <span class="ident">Page</span></span>
<span>(</span><span>name, kind, widgets, plugins=None, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>A representation of a canvas on which <a title="presalytics.story.outline.Widget" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Widget"><code>Widget</code></a> objects
can be rendered. At render-time, the <a title="presalytics.COMPONENTS" href="/python-client/presalytics/index.html#presalytics.COMPONENTS"><code>COMPONENTS</code></a>
registry is queried for a matching class. If found, the page and its
widgets are rendered.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>kind</code></strong> :&ensp;<code>str</code></dt>
<dd>The kind of Page. Typically corresponds to a class that inherits from
<a title="presalytics.story.components.PageTemplateBase" href="/python-client/presalytics/story/components.html#presalytics.story.components.PageTemplateBase"><code>PageTemplateBase</code></a></dd>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the Page.
A name must be unique within a
given <a title="presalytics.COMPONENTS" href="/python-client/presalytics/index.html#presalytics.COMPONENTS"><code>COMPONENTS</code></a> registry</dd>
<dt><strong><code>widgets</code></strong> :&ensp;<code>list</code> of <a title="presalytics.story.outline.Widget" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Widget"><code>Widget</code></a></dt>
<dd>Widgets that will be rendered along with the page</dd>
<dt><strong><code>plugins</code></strong> :&ensp;<code>list</code> of <a title="presalytics.story.outline.Plugin" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Plugin"><code>Plugin</code></a></dt>
<dd>A list of plugins that must be rendered alongside this widget</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L368-L413" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Page(OutlineBase):
    &#34;&#34;&#34;
    A representation of a canvas on which `presalytics.story.outline.Widget` objects
    can be rendered. At render-time, the `presalytics.COMPONENTS`
    registry is queried for a matching class. If found, the page and its
    widgets are rendered.

    Attributes
    ----------
    kind : str
        The kind of Page. Typically corresponds to a class that inherits from 
        `presalytics.story.components.PageTemplateBase`

    name : str
        The name of the Page.  A name must be unique within a 
        given `presalytics.COMPONENTS` registry

    widgets : list of presalytics.story.outline.Widget
        Widgets that will be rendered along with the page        
        
    plugins : list of presalytics.story.outline.Plugin
        A list of plugins that must be rendered alongside this widget

    &#34;&#34;&#34;
    name: str
    kind: str
    widgets: typing.Sequence[Widget]
    plugins: typing.List[Plugin]

    __required__ = [
        &#39;name&#39;,
        &#39;kind&#39;
    ]

    def __init__(self, name, kind, widgets, plugins=None, **kwargs):
        super(Page, self).__init__(**kwargs)
        self.name = name
        self.kind = kind
        if widgets:
            self.widgets = [Widget.deserialize(x) for x in widgets]
        else:
            self.widgets = []
        if plugins:
            self.plugins = [Plugin.deserialize(x) for x in plugins]
        else:
            self.plugins = []</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></li>
<li>abc.ABC</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></b></code>:
<ul class="hlist">
<li><code><a title="presalytics.story.outline.OutlineBase.deserialize" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.deserialize">deserialize</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.dump" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.dump">dump</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.export_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.export_yaml">export_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.import_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.import_yaml">import_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.load" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.load">load</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.to_dict" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.to_dict">to_dict</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.validate" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.validate">validate</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="presalytics.story.outline.Theme"><code class="flex name class">
<span>class <span class="ident">Theme</span></span>
<span>(</span><span>name, kind, data, plugins=None, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>A container for story properties that persist accross all pages of story. At render-time,
the <a title="presalytics.COMPONENTS" href="/python-client/presalytics/index.html#presalytics.COMPONENTS"><code>COMPONENTS</code></a> registry is queried for a matching class. If found, the theme is
incorporated into the story.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>kind</code></strong> :&ensp;<code>str</code></dt>
<dd>The kind of Theme. Typically corresponds to a class that inherits from
<a title="presalytics.story.components.ThemeBase" href="/python-client/presalytics/story/components.html#presalytics.story.components.ThemeBase"><code>ThemeBase</code></a></dd>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the Theme.
Corresponds to a local instance of
<a title="presalytics.story.components.ThemeBase" href="/python-client/presalytics/story/components.html#presalytics.story.components.ThemeBase"><code>ThemeBase</code></a> loaded into <a title="presalytics.COMPONENTS" href="/python-client/presalytics/index.html#presalytics.COMPONENTS"><code>COMPONENTS</code></a></dd>
<dt><strong><code>data</code></strong> :&ensp;<code>dict</code></dt>
<dd>Widget data required so the corresponding subclass of <a title="presalytics.story.components.ThemeBase" href="/python-client/presalytics/story/components.html#presalytics.story.components.ThemeBase"><code>ThemeBase</code></a>
can initialize and render</dd>
<dt><strong><code>plugins</code></strong> :&ensp;<code>A</code> <code>list</code> of <a title="presalytics.story.outline.Plugin" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Plugin"><code>Plugin</code></a></dt>
<dd>A list of plugins that must be rendered alongside this widget</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L416-L459" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class Theme(OutlineBase):
    &#34;&#34;&#34;
    A container for story properties that persist accross all pages of story. At render-time, 
    the `presalytics.COMPONENTS` registry is queried for a matching class. If found, the theme is
    incorporated into the story.

    Attributes
    ----------
    kind : str
        The kind of Theme. Typically corresponds to a class that inherits from 
        `presalytics.story.components.ThemeBase`

    name : str
        The name of the Theme.  Corresponds to a local instance of 
        `presalytics.story.components.ThemeBase` loaded into `presalytics.COMPONENTS`

    data : dict
        Widget data required so the corresponding subclass of `presalytics.story.components.ThemeBase`
        can initialize and render
        
    plugins : A list of presalytics.story.outline.Plugin
        A list of plugins that must be rendered alongside this widget
    &#34;&#34;&#34;
    name: str
    kind: str
    data: typing.Dict
    plugins: typing.List[Plugin]

    __required__ = [
        &#39;name&#39;
    ]

    def __init__(self, name, kind, data, plugins=None, **kwargs):
        super(Theme, self).__init__(**kwargs)
        self.name = name
        self.kind = kind
        if data:
            self.data = data
        else:
            self.data = {}
        if plugins:
            self.plugins = [Plugin.deserialize(x) for x in plugins]
        else:
            self.plugins = []</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></li>
<li>abc.ABC</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></b></code>:
<ul class="hlist">
<li><code><a title="presalytics.story.outline.OutlineBase.deserialize" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.deserialize">deserialize</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.dump" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.dump">dump</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.export_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.export_yaml">export_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.import_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.import_yaml">import_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.load" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.load">load</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.to_dict" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.to_dict">to_dict</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.validate" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.validate">validate</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="presalytics.story.outline.StoryOutline"><code class="flex name class">
<span>class <span class="ident">StoryOutline</span></span>
<span>(</span><span>info, pages, description, title, themes, plugins=None, story_id='empty', **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>A StoryOutline contains instructions for a <a title="presalytics.story.components.Renderer" href="/python-client/presalytics/story/components.html#presalytics.story.components.Renderer"><code>Renderer</code></a>
(e.g., <a title="presalytics.story.revealer.Revealer" href="/python-client/presalytics/story/revealer.html#presalytics.story.revealer.Revealer"><code>Revealer</code></a>) to render an story into html.</p>
<p>A story outline's <code>info</code>, <code>pages</code>, <code>widgets</code>, and <code>themes</code> are intended to be easily editable
by both human users and machines via json serialization and deserialization, and the ecosystem
of tools that can be used to edit json objects. Once a valid <a title="presalytics.story.outline.StoryOutline" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.StoryOutline"><code>StoryOutline</code></a> is
built, it contains sufficient instructions for this library find the required components in the user's
workspace and render theme.</p>
<p>StoryOutlines are stored in the <a href="https://presalytics.io/docs/api-specifications/story/">Presalytics API Story Service</a>.
The story service manages version history and user permissions for StoryOutlines.
For more information
about how outlines are used, please see the <a href="https://presalytics.io/docs/how-it-works/">How It Works</a>
section of the website.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>outline_version</code></strong> :&ensp;<code>str</code></dt>
<dd>the version of that StoryOuline schema.</dd>
<dt><strong><code>info</code></strong> :&ensp;<a title="presalytics.story.outline.Info" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Info"><code>Info</code></a></dt>
<dd>Metadata about this StoryOutline</dd>
<dt><strong><code>pages</code></strong> :&ensp;<code>list</code> of <a title="presalytics.story.outline.Page" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Page"><code>Page</code></a></dt>
<dd>The pages that will be rendered in this story</dd>
<dt><strong><code>themes</code></strong> :&ensp;<code>list</code> of <a title="presalytics.story.outline.Theme" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Theme"><code>Theme</code></a></dt>
<dd>The themes that will underlie each <a title="presalytics.story.outline.Page" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Page"><code>Page</code></a> in the StoryOutline</dd>
<dt><strong><code>title</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>A title for the story</dd>
<dt><strong><code>description</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>A description of the story</dd>
<dt><strong><code>story_id</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>The Presalytics API Story Id.
Automatically added once the story outline has been pushed to
the server.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/presalytics/python-client/blob/master/presalytics/story/outline.py#L462-L546" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class StoryOutline(OutlineBase):
    &#34;&#34;&#34;
    A StoryOutline contains instructions for a `presalytics.story.components.Renderer` 
    (e.g., `presalytics.story.revealer.Revealer`) to render an story into html.

    A story outline&#39;s `info`, `pages`, `widgets`, and `themes` are intended to be easily editable
    by both human users and machines via json serialization and deserialization, and the ecosystem
    of tools that can be used to edit json objects. Once a valid `StoryOutline` is
    built, it contains sufficient instructions for this library find the required components in the user&#39;s
    workspace and render theme.

    StoryOutlines are stored in the [Presalytics API Story Service](https://presalytics.io/docs/api-specifications/story/).
    The story service manages version history and user permissions for StoryOutlines.  For more information
    about how outlines are used, please see the [How It Works](https://presalytics.io/docs/how-it-works/)
    section of the website.

    Attributes
    ----------

    outline_version : str
        the version of that StoryOuline schema.
    
    info : presalytics.story.outline.Info
        Metadata about this StoryOutline
    
    pages : list of presalytics.story.outline.Page
        The pages that will be rendered in this story
    
    themes : list of presalytics.story.outline.Theme
        The themes that will underlie each `presalytics.story.outline.Page` in the StoryOutline
    
    title : str, optional
        A title for the story

    description: str, optional
        A description of the story
    
    story_id : str, optional
        The Presalytics API Story Id.  Automatically added once the story outline has been pushed to
        the server.

    &#34;&#34;&#34;
    outline_version: str
    info: Info
    pages: typing.List[Page]
    description: str
    title: str
    themes: typing.List[Theme]
    story_id: str

    __required__ = [
        &#39;outline_version&#39;,
        &#39;info&#39;,
        &#39;pages&#39;,
        &#39;title&#39;,
    ]

    def __init__(self, info, pages, description, title, themes, plugins=None, story_id=&#34;empty&#34;, **kwargs):
        super(StoryOutline, self).__init__(**kwargs)
        self.outline_version = get_current_spec_version()
        self.info = Info.deserialize(info)
        self.pages = [Page.deserialize(x) for x in pages]
        if description:
            self.description = description
        else:
            self.description = &#34;&#34;
        if title:
            self.title = title
        else:
            self.title = &#34;&#34;
        if themes:
            self.themes = [Theme.deserialize(x) for x in themes]
        else:
            self.themes = []
        if plugins:
            self.plugins = [Plugin.deserialize(x) for x in plugins]
        else:
            self.plugins = []
        self.story_id = story_id
        if not kwargs.get(&#34;validate&#34;, True):
            self.validate()

        def validate(self):
            super(StoryOutline, self).validate()
            jsonschema.validate(instance=self.to_dict(), schema=load_latest_schema())</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></li>
<li>abc.ABC</li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></b></code>:
<ul class="hlist">
<li><code><a title="presalytics.story.outline.OutlineBase.deserialize" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.deserialize">deserialize</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.dump" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.dump">dump</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.export_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.export_yaml">export_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.import_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.import_yaml">import_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.load" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.load">load</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.to_dict" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.to_dict">to_dict</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.validate" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.validate">validate</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="presalytics.story" href="/python-client/presalytics/story/index.html">presalytics.story</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="presalytics.story.outline.json_numpy_obj_hook" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.json_numpy_obj_hook">json_numpy_obj_hook</a></code></li>
<li><code><a title="presalytics.story.outline.get_current_spec_version" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.get_current_spec_version">get_current_spec_version</a></code></li>
<li><code><a title="presalytics.story.outline.load_schema" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.load_schema">load_schema</a></code></li>
<li><code><a title="presalytics.story.outline.load_latest_schema" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.load_latest_schema">load_latest_schema</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="presalytics.story.outline.OutlineEncoder" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineEncoder">OutlineEncoder</a></code></h4>
<ul class="">
<li><code><a title="presalytics.story.outline.OutlineEncoder.default" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineEncoder.default">default</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="presalytics.story.outline.OutlineBase" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase">OutlineBase</a></code></h4>
<ul class="two-column">
<li><code><a title="presalytics.story.outline.OutlineBase.deserialize" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.deserialize">deserialize</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.load" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.load">load</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.import_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.import_yaml">import_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.validate" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.validate">validate</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.export_yaml" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.export_yaml">export_yaml</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.dump" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.dump">dump</a></code></li>
<li><code><a title="presalytics.story.outline.OutlineBase.to_dict" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.OutlineBase.to_dict">to_dict</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="presalytics.story.outline.Info" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Info">Info</a></code></h4>
</li>
<li>
<h4><code><a title="presalytics.story.outline.Plugin" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Plugin">Plugin</a></code></h4>
</li>
<li>
<h4><code><a title="presalytics.story.outline.Widget" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Widget">Widget</a></code></h4>
</li>
<li>
<h4><code><a title="presalytics.story.outline.Page" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Page">Page</a></code></h4>
</li>
<li>
<h4><code><a title="presalytics.story.outline.Theme" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.Theme">Theme</a></code></h4>
</li>
<li>
<h4><code><a title="presalytics.story.outline.StoryOutline" href="/python-client/presalytics/story/outline.html#presalytics.story.outline.StoryOutline">StoryOutline</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.4</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>